
: square dup * ;
: map2 nil== if drop r> drop else 
       car r@ call >r swap r> swap cons swap recurse call then ;
: map >r nil swap map2 call reverse ; ( List Function -- List )

macro test
int 5 int 6 int 7 nil print cons cons cons print 
% square map call print
% int 25 int 36 int 49 nil cons cons cons ==
;